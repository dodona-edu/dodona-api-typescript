jest.mock('node-fetch');

import fetch from 'node-fetch';
import { HttpClient } from "../../lib/http/http_client"
import { SeriesManager } from "../../lib/managers/series_manager";
import { Course } from "../../lib/resources/course";

const {Response} = jest.requireActual('node-fetch');

describe("Tests SeriesManager.", () => {
	let client = new HttpClient().authenticate("Q9PS_BpiwUBNcCdGTv_6MRFb_ZZ_f5nz_DFo0rubbhw");
	let series_manager = new SeriesManager("http://localhost:3000", client);

	it("Test SeriesManager.getAll(:Course).", async () => {
		let resp_json = [{"id":110,"name":"Reeks 19","description":"Molestiae quia reiciendis. In expedita quod. Itaque atque eum. Odio voluptatum excepturi. Quos deleniti quod. Est dolorem et. Consequuntur accusantium fugiat. Facilis ut quas. Qui est autem. Nesciunt magni tenetur. Sed impedit aut. Non commodi minus. Hic non quia. Quaerat nulla aut. Magnam enim et. Officiis et voluptate. Officiis ut incidunt. Distinctio ut maxime. Non ut reprehenderit. Autem repellendus perspiciatis. Deserunt iste qui. Maiores ea enim. Deserunt enim rem. Nostrum vitae aut. Veritatis ut qui.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/110.json","exercises":"http://localhost:3000/nl/series/110/exercises.json"},{"id":109,"name":"Reeks 18","description":"Accusantium sit non. Vitae qui voluptatem. Nostrum qui natus. Dolorum deleniti ut. Repudiandae enim reprehenderit. Maiores quia asperiores. Cumque tenetur officiis. Odio ipsam nisi. Rerum doloribus dignissimos. Ea quia ratione. Aliquam iste sed. Et est et. Dolorem quia similique. Nesciunt et et. Labore molestiae ipsa. Cumque minima id. Ea consequuntur expedita. Vitae voluptatem et. Maxime quia harum. Itaque provident iste. Non eos enim. Necessitatibus facere nulla. Dolor dolores voluptatibus. Enim corrupti modi. Veniam rerum itaque.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/109.json","exercises":"http://localhost:3000/nl/series/109/exercises.json"},{"id":108,"name":"Reeks 17","description":"Sed pariatur fugiat. Inventore voluptatum nemo. Laudantium laborum soluta. Deserunt blanditiis et. Rerum qui molestiae. Libero neque sunt. Et sit incidunt. Libero consequatur dolorum. Voluptate sint adipisci. Et et vel. Sint ipsa excepturi. Quia libero ipsam. Cumque dignissimos quos. Tempora aspernatur voluptatem. Molestias quasi sit. Animi ab adipisci. Ea quo laudantium. Qui eos nisi. Voluptatem quidem et. Temporibus aut iste. Sint ipsum ullam. A et voluptatibus. Corrupti non voluptas. Sed iure placeat. Dicta voluptates at.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/108.json","exercises":"http://localhost:3000/nl/series/108/exercises.json"},{"id":107,"name":"Reeks 16","description":"Qui quia rerum. Omnis et nobis. Facere est sunt. Natus ipsa aut. Deleniti ea vitae. Quis exercitationem dicta. Minima consequatur explicabo. Autem blanditiis ex. Quam in provident. Quaerat accusantium eos. Est iusto tempore. Id et esse. Occaecati odit tempora. In veniam nesciunt. Eveniet quis neque. Molestiae et incidunt. Et non quas. Cum ab expedita. Laboriosam porro nobis. In exercitationem est. Pariatur ratione facilis. Ducimus velit omnis. Sed aliquid magni. Voluptate debitis necessitatibus. Corporis aut saepe.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/107.json","exercises":"http://localhost:3000/nl/series/107/exercises.json"},{"id":106,"name":"Reeks 15","description":"Sunt dolores error. Voluptatem repellendus sed. Est et in. Voluptatem est soluta. Et similique exercitationem. Non officiis incidunt. Autem consequatur veritatis. Reprehenderit voluptatem quia. Delectus saepe neque. Ea accusantium commodi. Atque aut tempore. Voluptatem et omnis. Ut voluptatum deserunt. Nam blanditiis est. Quia expedita optio. Quisquam occaecati officiis. Eaque dolorum eum. Sed autem consequatur. Beatae quia quia. Expedita voluptatem est. Ullam illo architecto. Non eos et. Fuga voluptas veniam. Architecto rerum sint. Fugit voluptates id.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":"2019-09-11T09:30:16.000+02:00","url":"http://localhost:3000/nl/series/106.json","exercises":"http://localhost:3000/nl/series/106/exercises.json"},{"id":105,"name":"Reeks 14","description":"Quo nam illum. Dolores odit ullam. Architecto fuga ut. Inventore et nisi. Id sed ullam. Sint quia sit. Nulla atque repellat. Voluptatem quos laudantium. Qui eum accusantium. Omnis adipisci aspernatur. Ut saepe nesciunt. Consequuntur assumenda beatae. Deserunt iusto praesentium. Vitae cumque rerum. Quis molestias ratione. Ex perferendis quasi. Voluptas ipsum vel. Eum sed doloribus. Quaerat earum quia. Quaerat iste voluptas. Aut in delectus. Quidem nesciunt consequatur. Unde et earum. Aperiam consectetur quam. Corrupti incidunt sed.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/105.json","exercises":"http://localhost:3000/nl/series/105/exercises.json"},{"id":104,"name":"Reeks 13","description":"Eaque earum dicta. Ea itaque expedita. Quidem animi id. Fugit qui corrupti. Consequatur qui consequuntur. Consequatur corrupti quas. Autem aut dolore. Eligendi et exercitationem. Aut repellat corrupti. Vel rerum ex. Mollitia qui ab. Ipsam perferendis nostrum. At eligendi ipsum. Voluptatem aut debitis. Temporibus ab ipsum. Consequuntur labore rerum. Ut est sunt. Ut perspiciatis et. Repellat labore vel. Voluptatem qui velit. Nisi sit voluptates. Ut nam ullam. Laudantium quae non. Deleniti exercitationem ducimus. Ut saepe aut.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":"2019-10-08T09:30:16.000+02:00","url":"http://localhost:3000/nl/series/104.json","exercises":"http://localhost:3000/nl/series/104/exercises.json"},{"id":103,"name":"Reeks 12","description":"Ipsam aliquid reiciendis. Molestiae labore qui. Qui eius nam. Voluptas veniam fuga. Sint culpa omnis. Facere minus nihil. Eius et ut. Nostrum sit minus. Aut ut recusandae. Ducimus est veniam. Quod at eaque. Ullam ea omnis. Quas dolores earum. Qui deserunt et. Quis dolores excepturi. Non maiores libero. Quisquam molestias officiis. Delectus quia animi. Porro at repellendus. Sed est repellendus. Perferendis id asperiores. Hic dolorem reprehenderit. Facilis vitae non. Nulla dolorum voluptatem. Sed rerum aspernatur.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/103.json","exercises":"http://localhost:3000/nl/series/103/exercises.json"},{"id":102,"name":"Reeks 11","description":"Dolore sit qui. Dolores illo magni. Tempora iusto consectetur. Ut incidunt et. Vel laboriosam magni. Ipsam iusto autem. Est eum voluptas. Quos sit ratione. Sed corporis at. Quidem magnam eos. Ut et ipsam. Molestiae est quam. Sunt exercitationem libero. Illum veniam aut. Iure eos aut. Voluptatibus eius odit. Et rerum aspernatur. Dicta odit voluptatem. Dolore aut facilis. Et maiores aut. Amet consequatur quibusdam. Voluptatem ex odio. Beatae fuga perspiciatis. Provident consequuntur ullam. Illo reiciendis eos.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":"2019-09-28T09:30:16.000+02:00","url":"http://localhost:3000/nl/series/102.json","exercises":"http://localhost:3000/nl/series/102/exercises.json"},{"id":101,"name":"Reeks 10","description":"Laboriosam aut ut. Totam dolores ratione. Adipisci voluptas quisquam. Maxime sint quis. Voluptas ipsum est. Iure nisi velit. Sunt aut culpa. Deserunt est ducimus. Autem consequatur nihil. Facere ex ut. Ut eos sed. Quis vel ipsa. A nostrum aut. Sapiente dolor eos. Sed ea ad. Recusandae qui est. Veritatis quae fuga. Voluptatem adipisci ut. Esse est sit. Quibusdam eius aut. Quisquam magnam aut. Sapiente soluta voluptatibus. Placeat omnis est. Voluptas sed hic. Veniam doloribus quia.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/101.json","exercises":"http://localhost:3000/nl/series/101/exercises.json"},{"id":100,"name":"Reeks 9","description":"Aut provident non. Reprehenderit explicabo quidem. Expedita voluptatem possimus. Vel hic atque. Id dignissimos commodi. Ut ut qui. Ut doloremque sed. Occaecati saepe ipsum. Sed molestiae pariatur. Totam velit rerum. Placeat deserunt rerum. Temporibus et facilis. Perspiciatis et laboriosam. Velit autem molestiae. Quos vero voluptatem. Maiores necessitatibus praesentium. Vitae a soluta. Dolores consequatur ut. Omnis corporis facere. Aspernatur ab laudantium. Sequi occaecati hic. Labore laboriosam tempora. Impedit eos vero. Nostrum quas tempora. Tenetur dolor exercitationem.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/100.json","exercises":"http://localhost:3000/nl/series/100/exercises.json"},{"id":99,"name":"Reeks 8","description":"Molestiae ipsa sit. Ullam necessitatibus ut. Aut nihil tempore. Dignissimos voluptatem fugit. Nihil et cum. Non sed et. Magni quia ut. Praesentium quia repellat. Provident magnam voluptatem. Asperiores alias aut. Qui officia ut. Provident tenetur inventore. Ad ipsa esse. Eaque est officiis. Tempora repellat cupiditate. Aperiam quae velit. Consequatur voluptatem reprehenderit. Nobis placeat consequatur. Blanditiis ut nulla. Ducimus et maiores. Minima dignissimos voluptas. Consequatur nesciunt vero. Modi vitae reprehenderit. Vel itaque rerum. Ullam eaque dolorum.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/99.json","exercises":"http://localhost:3000/nl/series/99/exercises.json"},{"id":98,"name":"Reeks 7","description":"Ut facilis quis. Sint nesciunt vel. Nulla laborum reiciendis. Pariatur eum sed. Omnis et facilis. Illum impedit molestias. Qui dolores sed. Unde nihil doloribus. Debitis reiciendis repudiandae. Corporis fugiat et. Alias nam magnam. Provident aut deserunt. Voluptatem magnam aut. Quia et voluptas. Nisi officia rerum. Modi beatae aspernatur. Et culpa ipsum. Nemo cum ullam. Distinctio vero tenetur. Sapiente ab fuga. Soluta rem repellendus. Dignissimos quis et. Aut tempore qui. Ut eos quia. Corrupti doloremque illum.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/98.json","exercises":"http://localhost:3000/nl/series/98/exercises.json"},{"id":97,"name":"Reeks 6","description":"Dolore magni eligendi. Nostrum eos sit. Quia adipisci et. Voluptatem provident officia. Cum et laudantium. Aspernatur est voluptatem. Fuga asperiores atque. A enim sed. Odit aperiam voluptates. Dolor fugiat vero. Perspiciatis animi qui. Voluptates corporis fugiat. Ad cum reprehenderit. Magni culpa possimus. Vel eveniet ex. Omnis numquam expedita. Quod tempore est. Delectus unde enim. Tenetur qui nesciunt. Voluptatem eos et. Nam odit sunt. Ducimus hic ad. Officiis omnis in. Rerum reprehenderit rem. Rem nemo ab.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/97.json","exercises":"http://localhost:3000/nl/series/97/exercises.json"},{"id":96,"name":"Reeks 5","description":"Dolores porro sit. Voluptatum ullam numquam. Error et incidunt. Mollitia facilis soluta. Praesentium sit quos. Quidem maxime dolore. Labore porro aliquam. Illo esse non. Est officia quibusdam. Maxime id et. Necessitatibus autem ut. Nobis autem laboriosam. Et ipsum qui. Eius necessitatibus quis. Molestias repudiandae est. Corporis hic similique. Esse magni sit. Mollitia harum voluptas. Expedita nobis nulla. Qui aut laborum. Et ullam deleniti. Et animi nemo. Non enim est. Autem dolorum deserunt. Praesentium veniam earum.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/96.json","exercises":"http://localhost:3000/nl/series/96/exercises.json"},{"id":95,"name":"Reeks 4","description":"Perspiciatis eligendi delectus. Illo quasi ea. Possimus eaque neque. Non expedita vel. Non sed odio. Fuga cumque inventore. Est impedit in. Voluptatem aliquam magnam. Consequatur quidem pariatur. Aliquam soluta qui. Quia saepe libero. Explicabo sint voluptas. Error numquam incidunt. Sit neque harum. Qui deleniti dolorum. Odit impedit et. Qui et ea. Iure nihil sequi. Recusandae aut voluptatibus. Omnis voluptas voluptas. Numquam fuga quisquam. Ut ad alias. Et doloribus dolorem. Enim mollitia sunt. Beatae ea ut.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/95.json","exercises":"http://localhost:3000/nl/series/95/exercises.json"},{"id":94,"name":"Reeks 3","description":"Quo repudiandae qui. Ut nesciunt culpa. Et qui sed. Suscipit laboriosam rem. Quia perspiciatis dolorem. Assumenda sint eos. Vel et est. Eveniet officia nemo. Molestiae at et. Saepe dolorum hic. Repellendus asperiores explicabo. Dignissimos minima facere. Maiores rerum eveniet. Ut culpa dolore. Ut libero qui. Molestiae veniam aspernatur. Id enim eaque. Voluptatem dignissimos non. Nulla et blanditiis. Eos tempora soluta. Dolorem eius ut. Impedit ipsam officia. Ut aperiam laborum. Ipsum repudiandae dignissimos. Ipsa vitae atque.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/94.json","exercises":"http://localhost:3000/nl/series/94/exercises.json"},{"id":93,"name":"Reeks 2","description":"Architecto nihil velit. Mollitia atque sunt. Corporis repellendus consequatur. Aut excepturi asperiores. Earum est laudantium. Unde dolore quas. Ab et soluta. A est minima. Sunt id quia. Ipsa maiores possimus. Sit sint et. Facilis est velit. Ut placeat quo. Alias dolorem sit. Debitis consequatur earum. Culpa soluta ut. Quisquam ut qui. Enim corrupti magni. Aliquam quia tempore. Quo odit eum. Consequatur molestiae odio. Ullam quisquam sit. Qui deleniti eveniet. Labore fugiat dignissimos. Dolorum voluptas accusamus.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/93.json","exercises":"http://localhost:3000/nl/series/93/exercises.json"},{"id":92,"name":"Reeks 1","description":"Aut accusamus soluta. Optio labore maxime. Laboriosam accusantium quod. Corrupti nulla quo. Suscipit sit impedit. Velit vel dolores. Est dolorem eos. Voluptas in et. Est qui ut. Totam quo aut. Perferendis aut sapiente. Nemo quos aut. Ducimus voluptas aut. Aut accusantium nemo. Explicabo quod non. Quisquam incidunt facilis. Asperiores qui eveniet. Aperiam fuga doloribus. Sed nesciunt ea. Excepturi temporibus illum. Reprehenderit voluptatem quidem. Aut beatae soluta. Ipsa minus laudantium. Doloribus praesentium odit. Sint veniam corrupti.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/92.json","exercises":"http://localhost:3000/nl/series/92/exercises.json"},{"id":91,"name":"Reeks 0","description":"Odit molestiae reprehenderit. Nihil enim a. Aut accusantium id. Dignissimos incidunt voluptatem. Recusandae nulla eum. Voluptas eius voluptatem. Earum in autem. Et doloribus ipsa. Ea sunt sint. Et non eum. Molestias odit voluptatem. Iste optio enim. Omnis consequatur repellendus. Reiciendis consequuntur velit. Porro aut qui. Dolores veniam fugiat. Est id inventore. Nostrum debitis itaque. Ex eum delectus. Qui architecto et. Cum sed qui. Eius sed ad. Quia quam ipsa. Explicabo vero fuga. Quibusdam autem molestiae.","visibility":"open","order":0,"created_at":"2019-09-13T09:30:16.000+02:00","updated_at":"2019-09-13T09:30:16.000+02:00","deadline":null,"url":"http://localhost:3000/nl/series/91.json","exercises":"http://localhost:3000/nl/series/91/exercises.json"}];
		fetch.mockResolvedValue(new Response(JSON.stringify(resp_json), {status: 200}));
		let course_json = {"id":5,"name":"Closed Test Course","teacher":"Graaf van Rommelgem","color":"deep-purple","year":"2017-2018","visibility":"hidden","registration":"closed","created_at":"2019-09-13T09:29:22.000+02:00","updated_at":"2019-09-13T09:29:22.000+02:00","url":"http://localhost:3000/nl/courses/5.json","series":"http://localhost:3000/nl/courses/5/series.json"};
		let course = Course.fromJSON(course_json);
		let series = await series_manager.getAll(course);
		expect(series).toBeTruthy();
		series.forEach(serie => expect(serie).toBeTruthy());
		expect(series.length).toBe(20);
	})
})
